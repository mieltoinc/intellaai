---
title: "Sandbox"
description: "Create sandboxes, connect to existing ones, and run operations"
---

Sandbox operations run inside an isolated environment (E2B, Daytona, Modal, Vercel, or local). You **initialize** a sandbox, perform **command**, **code**, **file**, and **git** operations, then **close** it. This page uses **Intella()**; for the recommended single-entry flow (sandbox + optional session), use [SandboxAgent](/sandbox-agent).

<Info>
  All code samples use the `intella` package. Install with `npm install intella` and import from `'intella'`.
</Info>

## Creating a sandbox

Create a new sandbox by calling `initializeSandbox` with a provider and config. It returns the sandbox provider instance—no need to call `getActiveSandbox()`. Use the `SandboxProviderType` enum (e.g. `SandboxProviderType.E2B`).

```typescript
import { Intella, SandboxProviderType } from 'intella';

const intella = new Intella();

const sandbox = await intella.initializeSandbox(SandboxProviderType.E2B, { templateId: 'base' });
const sandboxId = sandbox.getSandboxId(); // or sandbox.sandboxId if available

// ... run operations on sandbox ...

await sandbox.close();
```

## Connecting to an existing sandbox

To resume or reconnect to an existing sandbox, pass `fromSandboxId` in the config. Useful for Modal and Daytona; E2B sandboxes are often ephemeral.

```typescript
const sandbox = await intella.initializeSandbox(SandboxProviderType.E2B, { fromSandboxId: 'sbx-xxx' });
const sandboxId = sandbox.getSandboxId();
// ... run operations ...
await sandbox.close();
```

## Operations

| Topic | Description |
|-------|-------------|
| [Command execution](/sandbox/command-execution) | Run shell commands in the sandbox |
| [Running code](/sandbox/running-code) | Execute Python/JavaScript in the sandbox |
| [Filesystem](/sandbox/filesystem) | Read, write, upload, and download files |
| [Git operations](/sandbox/git-operations) | Clone, status, commit, push, and pull |

## Providers

| Provider | Description |
|----------|-------------|
| [Local](/sandbox/providers/local) | Run on your machine; no API keys |
| [E2B](/sandbox/providers/e2b) | E2B sandboxes with templates and code interpreter |
| [Vercel](/sandbox/providers/vercel) | Vercel-based sandboxes |
| [Daytona](/sandbox/providers/daytona) | Language-based sandboxes (Python, TypeScript, Go, Rust) |
| [Modal](/sandbox/providers/modal) | Modal with registry images and secrets |
| [Cloudflare](/sandbox/providers/cloudflare) | Coming soon |
| [Firecracker](/sandbox/providers/firecracker) | Coming soon |

## Sandbox setup configuration

`SandboxConfig` supports setup arrays that run when a sandbox is initialized or resumed. Each entry can specify `run?: 'creation' | 'resume' | 'default'`, `background?`, `timeout?`, `path?`.

| Property | Description |
|----------|-------------|
| `runCmd` | Run shell commands |
| `npmInstall` | Install npm packages |
| `bunInstall` | Install bun packages (auto-installs bun if needed) |
| `aptInstall` | Install apt packages (auto-runs apt-get update) |
| `pipInstall` | Install pip packages (supports venv) |
| `gitClone` | Clone git repositories (supports autoInstall, onSuccess) |

```typescript
const sandbox = await intella.initializeSandbox(SandboxProviderType.E2B, {
  templateId: 'base',
  env: { NODE_ENV: 'development' },
  aptInstall: [{ packages: ['git', 'curl'], options: { run: 'creation' } }],
  gitClone: [{
    url: 'https://github.com/user/my-project.git',
    options: { path: '/home/user/project', autoInstall: true },
  }],
  npmInstall: [{ packages: ['typescript', 'tsx'], options: { g: true } }],
  runCmd: [{ command: 'npm run build', options: { path: '/home/user/project', background: true } }],
});
await sandbox.close();
```

## Next steps

- [SandboxAgent](/sandbox-agent) — Recommended single entry for sandbox + session + agent.
